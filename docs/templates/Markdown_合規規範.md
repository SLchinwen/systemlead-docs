# Markdown 合規規範

- **用途：** 避免 markdownlint 警告與格式不一致
- **適用：** 所有 `.md` 文件（含 AI 生成文件）
- **生成文件時必須引用：** 凡由 AI 或工具生成、新增或大幅修改之 `.md` 文件，**必須依本規範撰寫並於生成前引用本文件**，以通過 markdownlint 檢核。

## 1. 無序清單（MD004）

- **一律使用破折號 `-` 作為無序清單符號，不要使用星號 `*`。**
- 同一份文件內清單樣式須一致；本專案預設為 `-`。

```markdown
<!-- 正確 -->
- 項目一
- 項目二

<!-- 避免 -->
* 項目一
* 項目二
```

## 2. 標題與小節（MD036）

- **若該行是「小節標題」，請用正式標題語法（`##` / `###` / `####`），不要單獨用粗體當標題。**
- 「粗體＋冒號」可作為標籤（如 **目的：**、**理由：**），但若其後緊接多個清單項，建議在標籤後加一空行再列清單，避免被 linter 判為「強調當標題」。

```markdown
<!-- 正確：小節用標題 -->
#### 原規劃
- 內容…

#### 調整後
- 內容…

<!-- 避免：單行粗體當標題 -->
**原規劃**
* 內容…
```

## 3. 單一頂層標題（MD025）※ 必遵

- **規則：** 一份文件內**僅允許一個頂層標題（`#`）**；若文件標題已於 front-matter 的 `title` 填寫，正文第一個標題請使用 `##`，避免「多個頂層標題」警告。
- **常見錯誤：** 正文同時出現 `# 標題` 且 front-matter 已有 `title`，將觸發 MD025。
- **正確：** 有 front-matter 時，正文從 `##` 開始；或整份文件只有一個 `#`。

## 4. 標題與清單空白（MD022／MD032）※ 必遵

- **MD022：** 標題前後需保留一行空白（`##`、`###` 前一行與後一行不得緊接其他內容）。
- **MD032：** 清單前後需保留一行空白（`-` 清單區塊與前後段落之間須有一空行）。
- **常見錯誤：** 「**選用時機：**」下一行直接接 `- 項目`，會觸發 MD032；應在「**選用時機：**」與清單之間加一空行。

## 5. 表格格式（MD060／compact 樣式）※ 必遵

- **規則：** 表格中**每個 `|` 管線右側必須至少有一個空格**（markdownlint 規則 MD060，style "compact"）。
- **錯誤經驗：** 若分隔列寫成 `|---|------|`（管線後直接接 `-`），將觸發大量 MD060 警告（曾出現單檔 84 則）；需改為 `| --- | ---- |`（管線與內容之間有空格）。
- **正確：** 表頭列、分隔列、資料列皆須「`|` ＋空格＋欄位內容＋空格＋`|`」。

```markdown
<!-- 正確：分隔列與資料列皆為「| 內容 |」 -->
| 欄位 | 說明 |
| ---- | ---- |
| A    | B    |

<!-- 錯誤：分隔列管線右側無空格，會觸發 MD060 -->
| 欄位 | 說明 |
|------|------|
| A    | B    |
```

- **檢查要點：** 分隔列（含 `-` 的那一行）是否為 `| --- | --- |` 形式，而非 `|---|---|`。

## 6. 有序清單前綴（MD029）、檔案結尾（MD047）與多餘空行（MD012）

- **MD029：** 有序清單（1. 2. 3.）若為子項延續，建議使用 `1.` 作為前綴以通過檢核；或依 linter 設定調整。
- **MD047：** 檔案結尾須有**單一換行字元**，不可無結尾換行。
- **MD012：** 避免**連續多行空白**（不得有多餘空行）；檔案開頭或段落間僅保留一行空行。

## 7. 其他建議

- 盡量使用 ASCII
- 避免多餘空行與尾端空白
- 避免重複標題文字（對應 MD024）

## 8. AI 生成文件檢查清單（生成文件時必須引用本規範並逐項自檢）

撰寫或生成 `.md` 時**必須**依本規範撰寫，並自檢：

1. **MD025：** 整份文件是否僅有一個頂層標題 `#`？若有 front-matter 的 `title`，正文第一個標題是否改為 `##`？
2. 無序清單是否全部用 `-`（未用 `*`）？（MD004）
3. 小節標題是否用 `##` / `###` / `####`，而非單行 **粗體**？（MD036）
4. **MD022／MD032：** 標題前後、清單前後是否各保留一行空白？「標籤＋清單」時，標籤行後是否有一空行再接清單？
5. **表格 MD060：** 所有表格之分隔列是否為「`|` ＋空格＋`---`＋空格＋`|`」形式（每個 `|` 右側皆有空格），而非 `|---|`？
6. **MD029：** 有序清單前綴是否符合 linter 要求？（子項延續可改用 1. 2. 3.）
7. **MD047：** 檔案結尾是否有單一換行字元？
8. **MD012：** 是否有連續多行空白？應移除多餘空行。

---

## 9. 稽核與發布前檢查（含 pricing 目錄）

**適用：** 所有新增或修改之 `.md` 文件，特別是 `docs/pricing/` 等治理文件。

**稽核要求：**

1. **markdownlint 通過**：合併或發布前，須通過 markdownlint 檢核，不得有 MD025、MD060、MD022、MD032、MD036、MD029、MD047、MD012 等警告。
2. **引用本規範**：AI 或工具生成、新增或大幅修改之文件，必須於生成前引用本規範，並依 §7 檢查清單自檢。
3. **doc-governance 對齊**：文件品質檢核清單已納入「Markdown 格式合規」項目，與本規範對齊。
